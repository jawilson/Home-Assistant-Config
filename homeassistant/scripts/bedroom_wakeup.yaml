alias: Bedroom Wake Up
sequence:
  - condition: state
    entity_id: group.sleeping
    state: 'off'
  - condition: time
    after: '6:00:00'
    before: '9:00:00'
    weekday:
      - mon
      - tue
      - wed
      - thu
      - fri
  - condition: template
    value_template: "{{ target != 'reality' }}"
  - service: switch.turn_off
    entity_id: switch.bedroom_fluxer
  - service: notify.html5
    data_template:
      target: '{{ target }}'
    data:
      title: 'Good Morning!'
      message: 'Turning on the bedroom lights'
      data:
        tag: 'wakeup'
        renotify: false
        actions:
          - action: 'wakeup_cancel'
            title: 'Cancel'
        script: 'script.bedroom_wakeup'
  - service: light.turn_on
    entity_id: light.bedroom
    data:
      color_temp: 450
      brightness: 1
  - service: light.turn_on
    entity_id: light.bedroom
    data:
      transition: 480
      color_temp: 450
      brightness: 160
  - delay:
      minutes: 10
  - service: light.turn_on
    entity_id: light.bedroom
    data:
      transition: 480
      color_temp: 400
      brightness: 180
  - delay:
      minutes: 10
  - service: light.turn_on
    entity_id: light.bedroom
    data:
      transition: 600
      color_temp: 225
      brightness: 180
  - delay:
      minutes: 15
  - service: switch.turn_on
    entity_id: switch.bedroom_fluxer
